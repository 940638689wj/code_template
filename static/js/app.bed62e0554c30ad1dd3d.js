webpackJsonp([2,0],{0:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var o=a(3),r=l(o),i=a(29),n=l(i),s=a(28),c=l(s),u=a(35),f=l(u),m=a(66),d=l(m);a(27),r.default.use(c.default),r.default.use(f.default),r.default.use(d.default),new r.default({el:"#app",template:"<App/>",components:{App:n.default}})},24:function(e,t){},25:function(e,t){},26:function(e,t){},27:function(e,t){},29:function(e,t,a){a(25);var l=a(8)(a(36),a(33),null,null);e.exports=l.exports},30:function(e,t,a){a(26);var l=a(8)(a(37),a(34),null,null);e.exports=l.exports},31:function(e,t,a){a(24);var l=a(8)(a(38),a(32),null,null);e.exports=l.exports},32:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-tabs",{attrs:{type:"card"},model:{value:e.activeName,callback:function(t){e.activeName=t}}},[a("el-tab-pane",{attrs:{label:"三层 & BUI表格",name:"first"}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"150px"}},[a("el-form",{ref:"fieldsForm",attrs:{"label-width":"80px",inline:!0}},[a("h3",[e._v("\n          字段信息\n        "),a("el-button",{on:{click:function(t){e.addField()}}},[e._v("添加字段")]),e._v("\n              从数据库导入：\n        "),a("el-popover",{ref:"popover1",attrs:{placement:"right",width:"300",trigger:"click"}},[a("el-form",{ref:"database",attrs:{model:e.form,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"数据库名"}},[a("el-input",{model:{value:e.database.databaseName,callback:function(t){e.database.databaseName=t}}})],1),e._v(" "),a("el-form-item",{attrs:{label:"IP或主机"}},[a("el-input",{model:{value:e.database.ipOrHost,callback:function(t){e.database.ipOrHost=t}}})],1),e._v(" "),a("el-form-item",{attrs:{label:"端口"}},[a("el-input",{model:{value:e.database.port,callback:function(t){e.database.port=t}}})],1),e._v(" "),a("el-form-item",{attrs:{label:"用户名"}},[a("el-input",{model:{value:e.database.username,callback:function(t){e.database.username=t}}})],1),e._v(" "),a("el-form-item",{attrs:{label:"密码"}},[a("el-input",{model:{value:e.database.password,callback:function(t){e.database.password=t}}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{plain:!0,type:"info"},on:{click:function(t){e.testDatabase()}}},[e._v("测试连接")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.connectDatabase()}}},[e._v("确认")])],1)],1)],1),e._v(" "),a("el-button",{directives:[{name:"popover",rawName:"v-popover:popover1",arg:"popover1"}],attrs:{plain:!0,type:"info"}},[e._v("配置数据库源")]),e._v("\n         选择表\n        "),a("el-select",{attrs:{clearable:"",filterable:"",placeholder:"可输入中英文表名模糊查询"},on:{change:function(t){e.choseTable()}},model:{value:e.tableName,callback:function(t){e.tableName=t}}},e._l(e.tableList,function(e){return a("el-option",{attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("transition-group",{attrs:{name:"list-complete",tag:"p"}},e._l(e.form.fieldsForm,function(t,l){return a("div",{key:t,staticClass:"list-complete-item"},[a("el-form-item",{attrs:{label:"字段名"}},[a("el-input",{model:{value:t.fieldName,callback:function(e){t.fieldName=e}}})],1),e._v(" "),a("el-form-item",{attrs:{label:"中文名"}},[a("el-input",{model:{value:t.fieldCnName,callback:function(e){t.fieldCnName=e}}})],1),e._v(" "),a("el-form-item",{attrs:{label:"java类型"}},[a("el-select",{model:{value:t.fieldType,callback:function(e){t.fieldType=e}}},e._l(e.fieldTypeOptions,function(e){return a("el-option",{attrs:{label:e.text,value:e.value}})}))],1),e._v(" "),a("el-button",{attrs:{plain:!0,type:"danger"},on:{click:function(t){e.delField(l)}}},[e._v("删除")])],1)}))],1),e._v(" "),a("br"),e._v(" "),a("el-form-item",{attrs:{label:"表名",prop:"tableName"}},[a("el-col",{attrs:{span:6}},[a("el-input",{model:{value:e.form.tableName,callback:function(t){e.form.tableName=t}}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"控制器URL"}},[a("el-col",{attrs:{span:6}},[a("el-input",{attrs:{placeholder:"可不填"},model:{value:e.form.controllerUrl,callback:function(t){e.form.controllerUrl=t}}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"主键自增"}},[a("el-radio-group",{model:{value:e.form.isAutoIncrement,callback:function(t){e.form.isAutoIncrement=t}}},[a("el-radio",{attrs:{label:1}},[e._v("是")]),e._v(" "),a("el-radio",{attrs:{label:0}},[e._v("否")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"update使用if"}},[a("el-radio-group",{model:{value:e.form.isUpdateUseIf,callback:function(t){e.form.isUpdateUseIf=t}}},[a("el-radio",{attrs:{label:1}},[e._v("是")]),e._v(" "),a("el-radio",{attrs:{label:0}},[e._v("否")])],1),e._v("\n      （使用if更新则默认最后一个字段为必更新字段）\n    ")],1),e._v(" "),a("el-form-item",{attrs:{label:"生成BUI表格页面"}},[a("el-radio-group",{model:{value:e.form.isAdminTable,callback:function(t){e.form.isAdminTable=t}}},[a("el-radio",{attrs:{label:1}},[e._v("是")]),e._v(" "),a("el-radio",{attrs:{label:0}},[e._v("否")])],1)],1),e._v(" "),a("transition",{attrs:{name:"slide-fade"}},[e.form.isAdminTable?a("div",[a("el-form-item",{attrs:{label:"表格数据使用DTO"}},[a("el-radio-group",{model:{value:e.form.isUseDto,callback:function(t){e.form.isUseDto=t}}},[a("el-radio",{attrs:{label:1}},[e._v("是")]),e._v(" "),a("el-radio",{attrs:{label:0}},[e._v("否")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"新增/修改"}},[a("el-radio-group",{model:{value:e.form.isSave,callback:function(t){e.form.isSave=t}}},[a("el-radio",{attrs:{label:1}},[e._v("是")]),e._v(" "),a("el-radio",{attrs:{label:0}},[e._v("否")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"删除"}},[a("el-radio-group",{model:{value:e.form.isDel,callback:function(t){e.form.isDel=t}}},[a("el-radio",{attrs:{label:1}},[e._v("是")]),e._v(" "),a("el-radio",{attrs:{label:0}},[e._v("否")])],1)],1)],1):e._e()]),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.download()}}},[e._v("下载")]),e._v(" "),a("el-button",{attrs:{plain:!0,type:"warning"},on:{click:function(t){e.reset()}}},[e._v("重置")])],1)],1)],1)],1)},staticRenderFns:[]}},33:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("el-col",{staticClass:"colleft",attrs:{span:4}},[a("Nav")],1),e._v(" "),a("el-col",{staticClass:"colright",attrs:{span:20}},[a("Csdx")],1)],1)},staticRenderFns:[]}},34:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"tac"},[a("el-menu",{attrs:{"default-active":"1"}},[a("div",{staticClass:"nav-height"},[a("el-menu-item",{attrs:{index:"1"}},[a("i",{staticClass:"el-icon-document"}),e._v("三层 & BUI表格")]),e._v(" "),a("el-menu-item",{attrs:{index:"21"}},[a("i"),e._v("持续更新中...")])],1)])],1)},staticRenderFns:[]}},36:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(31),r=l(o),i=a(30),n=l(i);t.default={name:"app",components:{Csdx:r.default,Nav:n.default}}},37:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"Nav"}},38:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{form:{fieldsForm:[{fieldName:"",fieldCnName:"",fieldType:"String"},{fieldName:"",fieldCnName:"",fieldType:"String"}],tableName:"",controllerUrl:"",isAutoIncrement:1,isUpdateUseIf:0,isAdminTable:0,isUseDto:1,isSave:1,isDel:1},rules:{tableName:[{required:!0,message:"请输入表名",trigger:"blur"},{min:2,message:"至少 2 个字符",trigger:"blur"}]},fieldTypeOptions:[{value:"String",text:"String"},{value:"Integer",text:"Integer"},{value:"Date",text:"Date"},{value:"Double",text:"Double"},{value:"BigDecimal",text:"BigDecimal"},{value:"Float",text:"Float"},{value:"Boolean",text:"Boolean"}],tableList:[],tableName:"",database:{databaseName:"",ipOrHost:"dev.xmyr.cn",port:"9875",username:"root",password:"Aa123456"},activeName:"first"}},methods:{addField:function(){this.form.fieldsForm.push({fieldName:"",fieldCnName:"",fieldType:"String"})},delField:function(e){this.form.fieldsForm.splice(e,1)},download:function(){var e=this;this.$refs.form.validate(function(t){if(!t)return!1;if(e.form.fieldsForm.length<2)return e.$message.error("字段不能少于两个噢~"),!1;for(var a=e.form.fieldsForm,l=0;l<a.length;l++)if(""===a[l].fieldName||""===a[l].fieldCnName)return e.$message.error("字段信息不能为空噢~"),!1;e.$http.post("/auto_code/generate_template",e.form,{emulateJSON:!0}).then(function(e){this.$message.success("下载成功~"),window.location.href="/auto_code/download"},function(e){this.$message.error("失败啦~不懂为啥T-T")})})},reset:function(){this.form={fieldsForm:[],tableName:"",controllerUrl:"",isAutoIncrement:1,isUpdateUseIf:1,isAdminTable:1,isUseDto:1,isSave:1,isDel:1},this.tableName=""},choseTable:function(){this.form.tableName=this.tableName,""===this.tableName?this.form.fieldsForm=[{fieldName:"",fieldCnName:"",fieldType:"String"},{fieldName:"",fieldCnName:"",fieldType:"String"}]:this.$http.post("/auto_code/table_struct",{tableName:this.tableName},{emulateJSON:!0}).then(function(e){e.body.data.length>0&&(this.form.fieldsForm=e.body.data)},function(e){})},testDatabase:function(){this.$http.post("/auto_code/test_connect",this.database,{emulateJSON:!0}).then(function(e){e.body.data.result?this.$message.success("该连接可用~"):this.$message.error("连接不可用>_<")},function(e){this.$message.error("连接不可用>_<")})},connectDatabase:function(){this.tableName="",this.tableList=[],this.$http.post("/auto_code/create_connect",this.database,{emulateJSON:!0}).then(function(e){e.body.data.result?(this.$message.success("连接数据库成功~"),this.$http.get("/auto_code/table_list",{emulateJSON:!0}).then(function(e){this.tableList=e.body.data},function(e){this.$message.error("获取表失败>_<")})):this.$message.error("获取表失败>_<")},function(e){this.$message.error("连接失败>_<")})}},created:function(){console.log("created")}}},79:function(e,t){}});
//# sourceMappingURL=app.bed62e0554c30ad1dd3d.js.map